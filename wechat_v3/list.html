<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta content="yes" name="apple-mobile-web-app-capable">
<meta content="black" name="apple-mobile-web-app-status-bar-style">
<meta content="telephone=no" name="format-detection">
<meta content="no-cache" http-equiv="Cache-Control">
<title>上品折扣微商城</title>
<link href="css/shopin.css" rel="stylesheet"/>
</head>

<body>
<div class="header">
	<div class="left"><a href="javascript:;" class="a-back"><span>返回</span></a></div>
	<div class="center">
		<div class="search">
			<form action="">
				<input class="s-input" type="search" autocomplete="off" placeholder="请输入搜索内容" autosave="unique">
				<a class="s-btn" href="javascript:;"></a>
			</form>
		</div>
	</div>
</div><!--//头部结束-->

<div class="content">
	<ul class="m-sort fixed-bar static flex">
		<li class="sore-default on">默认</li>
		<li class="sort-price">价格</li>
		<li class="sort-filter">筛选</li>
		<li class="sort-list icons-list"></li> <!-- icons-tile && icons-list -->
	</ul><!-- //商品筛选 -->
	<div class="list list-view"> <!-- larger-view -->
		<ul>
			<li>
				<a class="list-item" href="product.html">
					<div class="p"><img class="p-pic" src="images/img/p6.jpg"></div>
					<div class="d">
						<h3 class="d-title clamp">卡雷尔2015秋季新品女装商城同款九分袖连衣裙淑女花色针织连衣裙</h3>
						<div class="d-main">
							<p class="price">
								<del>￥1499.00</del>
								<span class="s">￥<em class="n">198</em>.00</span>
							</p>
							<p class="discount"><b>3折</b></p>
						</div>
					</div>
				</a>
			</li>
			<li>
				<a class="list-item" href="product.html">
					<div class="p"><img class="p-pic" src="images/img/p5.jpg"></div>
					<div class="d">
						<h3 class="d-title clamp">拉夏贝尔2015夏季新品刺绣图案无袖圆领条纹连衣裙</h3>
						<div class="d-main">
							<p class="price">
								<del>￥1499.00</del>
								<span class="s">￥<em class="n">198</em>.00</span>
							</p>
							<p class="discount"><b>3折</b></p>
						</div>
					</div>
				</a>
			</li>
			<li>
				<a class="list-item" href="product.html">
					<div class="p"><img class="p-pic" src="images/img/p4.jpg"></div>
					<div class="d">
						<h3 class="d-title clamp">卡雷尔2015秋季新品女装商城同款九分袖连衣裙淑女花色针织连衣裙</h3>
						<div class="d-main">
							<p class="price">
								<del>￥1499.00</del>
								<span class="s">￥<em class="n">198</em>.00</span>
							</p>
							<p class="discount"><b>3折</b></p>
						</div>
					</div>
				</a>
			</li>
			<li>
				<a class="list-item" href="product.html">
					<div class="p"><img class="p-pic" src="images/img/p3.jpg"></div>
					<div class="d">
						<h3 class="d-title clamp">拉夏贝尔2015夏季新品刺绣图案无袖圆领条纹连衣裙</h3>
						<div class="d-main">
							<p class="price">
								<del>￥1499.00</del>
								<span class="s">￥<em class="n">198</em>.00</span>
							</p>
							<p class="discount"><b>3折</b></p>
						</div>
					</div>
				</a>
			</li>
		</ul>
	</div>
	<div class="btn-box"><a href="javascript:loadMore();" class="btn btn-block btn-load-more">点击加载更多</a></div>
</div>
<div class="m-sift">
	<div class="sift-panel">
		<div class="sift-content">
			<div class="sift-row">
				<div class="row-head">
					<span class="sift-key">品牌</span>
					<span class="sift-selected">全部</span>
					<i class="down-arrow"></i>
				</div>
				<div class="row-body">
					<ul>
						<li class="sift-item">法文箱子</li>
						<li class="sift-item">BEISSY</li>
						<li class="sift-item">U.G.I.Z</li>
						<li class="sift-item">HOPE SHOW</li>
						<li class="sift-item">三和众</li>
						<li class="sift-item">雪儿</li>
						<li class="sift-item">蓝茜婷</li>
						<li class="sift-item">朗利来</li>
						<li class="sift-item">皮尔卡丹pierre cardin</li>
						<li class="sift-item">红袖坊</li>
						<li class="sift-item">秋水伊人</li>
					</ul>
				</div>
			</div>
			<div class="sift-row">
				<div class="row-head">
					<span class="sift-key">分类</span>
					<span class="sift-selected">全部</span>
					<i class="down-arrow"></i>
				</div>
				<div class="row-body">
					<ul>
						<li class="sift-item">男装</li>
						<li class="sift-item">女装</li>
						<li class="sift-item">男鞋</li>
						<li class="sift-item">女鞋</li>
						<li class="sift-item">运动</li>
						<li class="sift-item">户外</li>
						<li class="sift-item">儿童</li>
					</ul>
				</div>
			</div>
			<div class="sift-row">
				<div class="row-head">
					<span class="sift-key">尺码</span>
					<span class="sift-selected">全部</span>
					<i class="down-arrow"></i>
				</div>
				<div class="row-body">
					<ul>
						<li class="sift-item">S</li>
						<li class="sift-item">M</li>
						<li class="sift-item">L</li>
						<li class="sift-item">XL</li>
						<li class="sift-item">XXL</li>
						<li class="sift-item">XXXL</li>
					</ul>
				</div>
			</div>
			<div class="sift-row sift-discount-row">
				<div class="row-head">
					<span class="sift-key">折扣</span>
					<span class="sift-selected">全部</span>
					<i class="down-arrow"></i>
				</div>
				<div class="row-body">
					<ul>
						<li class="sift-item">3折以内</li>
						<li class="sift-item">3-5折</li>
						<li class="sift-item">5折以上</li>
						<li>
							<span class="two-input">
								<input id="mindiscount" class="input-item" name="mindiscount" type="number" min="0" placeholder="最低折扣">
								<span class="divider">-</span>
								<input id="maxdiscount" class="input-item" name="maxdiscount" type="number" min="0" placeholder="最高折扣">
								<input type="button" id="discountBtnConfirm" class="sift-btn btnConfirm" date-value="1" value="确定">
							</span>
						</li>
					</ul>
				</div>
			</div>
			<div class="sift-row sift-price-row">
				<div class="row-head">
					<span class="sift-key">价格</span>
					<span class="sift-selected">全部</span>
					<i class="down-arrow"></i>
				</div>
				<div class="row-body">
					<ul>
						<li class="sift-item">0-99</li>
						<li class="sift-item">100-199</li>
						<li class="sift-item">200-399</li>
						<li class="sift-item">400-599</li>
						<li class="sift-item">600-1199</li>
						<li class="sift-item">1200-4999</li>
						<li class="sift-item">5000-9999</li>
						<li class="sift-item">10000以上</li>
						<li>
							<span class="two-input">
								<input id="minprice" class="input-item" name="minprice" type="number" min="0" placeholder="最低价">
								<span class="divider">-</span>
								<input id="maxprice" class="input-item" name="maxprice" type="number" min="0" placeholder="最高价">
								<input type="button" id="priceBtnConfirm" class="sift-btn btnConfirm" date-value="2" value="确定">
							</span>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="sift-footer">
			<div class="sift-close sift-btn" id="siftClose"></div>
			<div class="sift-clear sift-btn" id="siftClear">重置</div>
			<div class="sift-ok sift-btn" id="siftOk">确定</div>
		</div>
	</div>
	<div class="sift-mask"></div>
</div>
<script src="js/zepto.min.js"></script>
<script src="js/shopin.js"></script>
<script>
//默认排序
$('.sore-default').on('tap', function() {
	$(this).addClass('on').siblings().removeClass('on');
	$('.sort-price').removeClass('price-up, price-down');
	$('.m-product li').sort(/*综合排序*/);
});
//价格排序
$('.sort-price').on('tap', function() {
	$(this).addClass('on').siblings().removeClass('on');
	if($(this).hasClass('price-up')){
		$(this).removeClass('price-up').addClass('price-down');
		$('.m-product li').sort(/*按价格降序排列*/);
	}else{
		$(this).addClass('price-up').removeClass('price-down');
		$('.m-product li').sort(/*按价格升序排列*/);
	}
});
//排列方式
$('.sort-list').on('tap', function() {
	if($(this).hasClass('icons-list')){
		$(this).removeClass('icons-list').addClass('icons-tile');
		$('.list').addClass('larger-view').removeClass('list-view');
	}else{
		$(this).removeClass('icons-tile').addClass('icons-list');
		$('.list').addClass('list-view').removeClass('larger-view');
	}
});

//打开筛选
$('.sort-filter').on('tap', function() {
	$('html').addClass('sift-move')
	$('.sift-mask, .sift-panel').css('display','block')
});
//关闭筛选
$('.sift-mask, .sift-close').on('tap', function() {
	$('html').addClass('sift-back');
	setTimeout("closeSift()", 200 )
});
//筛选面板操作方法
$('.m-sift .sift-row .row-head').on('tap', function() {
	$(this).toggleClass('open').next('.row-body').toggle();
});

$(".input-item").keyup(function(){
    $(this).val($(this).val().replace(/[^0-9.]/g,''));
}).bind("paste",function(){
    $(this).val($(this).val().replace(/[^0-9.]/g,''));
}).css("ime-mode", "disabled");

$('.m-sift .sift-item').on('tap', function() {
	var _this = $(this),
		_value = _this.text(),
		_siftSelected = _this.parents('.row-body').siblings('.row-head').children('.sift-selected');
	_siftSelected.text(_value);
	_this.addClass('selected').siblings().removeClass('selected');
});

//自定义价格&折扣区间方法
$('.btnConfirm').click(function() {
	var	_mindiscount = $('#mindiscount').val(),
		_maxdiscount = $('#maxdiscount').val(),
		_minprice = $('#minprice').val(),
		_maxprice = $('#maxprice').val(),
		_date = $(this).attr('date-value'),
		_siftSelected = $(this).parents('.sift-row').find('.sift-selected');
	if(_date == 1){
		_siftSelected.text(_mindiscount + '-' + _maxdiscount)
	}else if(_date == 2){
		_siftSelected.text(_minprice + '-' + _maxprice)
	}
	$(this).parents('.row-body').find('li').removeClass('selected')
});
//重置
$('#siftClear').on('tap', function() {
	$('.sift-selected').text('全部');
	$('.row-body li').removeClass('selected');
});
//确定筛选条件
$('#siftOk').on('tap', function() {
	$('.m-sift').find('.sift-selected').each(function(){
		_searchKey = $(this).text()
		alert('带着' + _searchKey + '去搜索喽！');
		closeSift();
	});
});
//关闭筛选
function closeSift(){
	$('html').removeClass('sift-move')
	$('html').removeClass('sift-back')
	$('.sift-panel, .sift-mask').css('display','none');
}
//加载更多
function loadMore(){
	loading();//loading 方法   //closeLoad() 关闭loading方法
};
</script>
</body>
</html>